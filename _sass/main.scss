@charset "UTF-8";

@import "responsive_utils";

@include not-lt-ie9 {
    @-ms-viewport {
        width: device-width;
    }

    @viewport {
        width: device-width;
    }
}

@import "normalize";
@import "styles";
@import "icons";

@import "compass/typography/vertical_rhythm";

@import "compass/css3/box-shadow";
@import "compass/css3/columns";
@import "compass/css3/hyphenation";

// Debug mode
$debug: true;

$colour-def-almost-white: #fcfcfc;
$colour-def-body-grey: lighten(black, 24%);
$colour-def-darker-grey: #333;

$colour-def-boss-yellow: #ffe500;
$colour-def-enraged-salmon:#DE2C42;
$colour-def-hot-pants: #DE0949;
$colour-def-luminous-teal: #0CD6D0;

$colour-background: $colour-def-almost-white;
$colour-body: $colour-def-body-grey;
$colour-body-dark: $colour-def-darker-grey;
$colour-heading: $colour-def-darker-grey;
$colour-link: darken($colour-body, 30%);

$colour-feature: $colour-def-boss-yellow;
//$colour-feature: $colour-def-enraged-salmon;
//$colour-feature: $colour-def-hot-pants;
//$colour-feature: $colour-def-luminous-teal;

// Gentium
// Regular   "Gentium Book Basic"  400 normal  
// Regular Italic   "Gentium Book Basic"  400 italic  
// Bold    "Gentium Book Basic"  700 normal  
// Bold Italic    "Gentium Book Basic"  700 italic  

// FF Dagny Web Pro
// Regular   "ff-dagny-web-pro"  400 normal  
// Regular Italic   "ff-dagny-web-pro"  400 italic  
// Bold    "ff-dagny-web-pro"  700 normal  
// Bold Italic    "ff-dagny-web-pro"  700 italic  
// Black "ff-dagny-web-pro"  900 normal  
// Black Italic "ff-dagny-web-pro"  900 italic

$font-family-def-gentium: "Gentium Book Basic", Georgia, serif;
$font-family-def-dagny: "ff-dagny-web-pro", "Helvetica Neue", Helvetica, Arial, sans-serif;
$font-family-def-lato: Lato, "Helvetica Neue", Helvetica, Arial, sans-serif;
$font-family-def-calluna-sans: Lato, "Helvetica Neue", Helvetica, Arial, sans-serif;

$font-family-sans-serif: $font-family-def-lato;
$font-family-serif: $font-family-def-gentium;
$font-family-monospace: Monaco, monospace;

$font-family-body: $font-family-sans-serif;

$font-boss-line-height: 1em;

body {
    background-color: $colour-background;
    color: $colour-body;
    font-family: $font-family-body;
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;

    @if $debug {
        &:before { font-family: $font-family-body; font-size: 10px; line-height: 14px; display: block; background-color: transparentize(lighten($colour-body-dark, 60%), 0.4); colour: transparentize($colour-body-dark, 0.2); padding: 0.2em 0.6em; position: fixed; bottom: 0; right: 0;}
        @include respond-min-width(70em) { &:before { content:'70' } }
        @for $i from 1 through 200 {
            @include respond-min-width($i * 1em) { &:before { content: '#{$i}'; } }
        }
    }

    @include respond-min-width(60em) {
        font-size: 1em;  // Bump up font size?
    }

    @include respond-min-width(70em) {
        font-size: 1.06em;
    }

    @include respond-min-width(90em) {
        font-size: 1.16em;
    }
}

$base-font-size:   18px;
$base-line-height: 30px;
@include establish-baseline;

a:link, a:visited, a:hover, a:active {
    text-decoration: none;
    color: $colour-body;
}

p, ul, ol {
    margin: 0;
}


/**
 * Prose
 */
.prose {
    @include adjust-font-size-to(17px);

    .fontface & {
        font-family: $font-family-body;
    }

    p, ol, ul {
        @include rhythm(0, 0, 0, 1, 17px);
    }

    p {
        code {
            display: inline;
            padding: 0.20em 0.4em 0.20em;
            margin: 0 0.2em;
            border: 0.1em solid darken($colour-background, 3%);
        }
    }

    a:link, a:visited, a:hover, a:active {
        border-bottom: 0.1em solid $colour-feature;
        //color: #010101;
        color: $colour-link;
        position: relative;
    }
    a:hover {
        background-color: lighten($colour-feature, 40%);
    }
    a:active {
        background-color: $colour-feature;
        color: $colour-background;
    }

    h2 {
        font-weight: 900;
        font-family: $font-family-sans-serif;
        color: $colour-feature;
        @include adjust-font-size-to(51px);
        @include rhythm(2, 0, 0, 1, 51px);
        font-style: italic;
    }

    h3, h4, h5, h6 {
        font-weight: 400;
        font-family: $font-family-serif;
        color: $colour-heading;
    }

    h3 {
        @include rhythm(2, 0, 0, 1, 23px);
        @include adjust-font-size-to(23px, 6/5);
    }

    code {
        font-family: $font-family-monospace;
        @include adjust-font-size-to(14px, 3/4);
        background-color: darken($colour-background, 2%);
    }

    pre {
        @include rhythm(0, 0, 0, 1, 17px);

        code {
            display: block;
            @include box-shadow(
                inset 0 0 4em darken($colour-background, 4%)
            );
            @include rhythm(1.5, 0.5, 0.5, 1.5, 14px);
            padding-left: 5%;
            padding-right: 5%;
        }
    }
}
.prose--large {
    @include rhythm(2, 0, 0, 2, 23px);
    @include adjust-font-size-to(23px, 6/5);
    font-family: $font-family-serif;
}

.prose--centre {
    text-align: center;
}

.prose--boss {
    @include adjust-font-size-to(48px);
    line-height: $font-boss-line-height; // Force regardless of rhythm
    font-family: $font-family-sans-serif;
    font-weight: 900;
    font-style: italic;
    letter-spacing: -0.02em;
    @include hyphenation;

    p, h1, h2, h3, h4, h5, h6 {
        font-weight: 900;
        @include rhythm(1, 0, 0, 1, 48px);
    }

    @include respond-min-width(40em) {
        @include adjust-font-size-to(56px);//, 7/4);
        line-height: $font-boss-line-height; // Force regardless of rhythm
    }

    @include respond-min-width(70em) {
        @include adjust-font-size-to(70px);//, 8/3);
        line-height: $font-boss-line-height; // Force regardless of rhythm
    }

    @include respond-min-width(80em) {
        @include adjust-font-size-to(84px);//, 8/3);
        line-height: $font-boss-line-height; // Force regardless of rhythm

        p, h1, h2, h3, h4, h5, h6 {
            @include rhythm(2, 0, 0, 2, 84px);
        }
    }

    @include respond-min-width(100em) {
        p, h1, h2, h3, h4, h5, h6 {
            @include rhythm(3, 0, 0, 3, 84px);
        }
    }

    @include respond-min-width(120em) {
        p, h1, h2, h3, h4, h5, h6 {
            @include rhythm(4, 0, 0, 4, 84px);
        }
    }
}

.prose--upper-case {
    text-transform: uppercase;
}

.prose--feature {
    color: $colour-feature;
}

.prose--inverted-feature {
    color: $colour-def-almost-white;
}
// EO Prose

/**
 * Section blocks
 */
.section {
    @include rhythm(0.5, 1, 1, 0.5);

    @include respond-min-width(70em) {
        @include rhythm(1, 1, 1, 1);
    }
}

.section--feature {
    background-color: $colour-def-darker-grey;
}

.section--inverted-feature {
    background-color: $colour-feature;
}

.section--no-margin {
    margin-top: 0;
    margin-bottom: 0;
}

.section--gracht {
    background-image: url(../img/gracht-even-darker.jpg);
    background-size: cover;
    background-position: center 40%;
}

.section__inner {
    @include clearfix;
    margin-left: auto;
    margin-right: auto;
    width: 87%;
    max-width: 88em;
    //margin-left:  7%;
    //margin-right: 7%;

    @include respond-min-width(40em) {
        width: 89%;
        //margin-left:  6%;
        //margin-right: 6%;
    }
    
    @include respond-min-width(100em) {
        //margin-left: auto;
        //margin-right: auto;
    }
}

.section__inner__article-offset {
    @include respond-min-width(53em) {
        padding-left: 7.4em;
    }
}

.section__inner__article {
    @extend .section__inner__article-offset;
    max-width: 32em;
}
// EO Section blocks

/**
 * Header
 */
.banner--absolute {
    position: absolute;
    width: 100%;
}
.banner--absolute__next-sibling {
    @include padding-leader(5);
}

.banner__name {
    @include rhythm(0, 2.5, 2.5, 0, 24px);
    @include adjust-font-size-to(24px);
    text-transform: lowercase;
    letter-spacing: 0.04em;
    font-family: $font-family-serif;
    line-height: 1;
    float: left;

    h1, h2 {
        font-size: 1em;
        display: inline;
        font-weight: 400;
        color: $colour-heading;
    }

    h2 {
        font-style: italic;
    }

    @include respond-max-width(21em) {
        @include adjust-font-size-to(23px);
    }
}

.banner--inverted__name {
    @extend .banner__name;

    h1, h2 {
        color: $colour-background;
    }
}

.banner__icon {
    position: relative;
    top: 0.145em;
}

$nav-breakpoint: 100em;

#nav {

display: none;

    @include respond-max-width($nav-breakpoint) {
        position: absolute;
        top: 0;
        padding-top: 84px;

        &:not(:target) {
            z-index: 1;
            height: 0;
        }

        &:target {
            .nav__close {
                display: block;
            }
        }
    }

    @include respond-min-width($nav-breakpoint) {
        float: right;
    }
}

.nav__item {
    @include respond-min-width($nav-breakpoint) {
        display: inline-block;
        padding-left: 1.4em;
        padding-right: 1.4em;
        margin: 0 0.4em;
        text-transform: uppercase;
        font-family: $font-family-sans-serif;
        @include rhythm(0, 2.5, 2.5, 0, 12px);
        @include adjust-font-size-to(12px);
        letter-spacing: 0.08em;
        font-weight: 700;

        a:link {
            color: $colour-body;
        }
    }

    @include respond-max-width($nav-breakpoint) {
        position: absolute;
    }
}

.nav__item {
    @include respond-max-width($nav-breakpoint) {
        position: relative;
        border-top: 1px solid;
    }
}

.nav__burger {
    display: none;
}
// EO Header

.colour--feature {
    color: $colour-feature;
}
    
.article--columns {
    @include respond-min-width(42em) {
        @include column-count(2);
        @include column-gap(3.4em);

        &.prose *:last-child,
        & .prose *:last-child {
            margin-bottom: 0;
        }
    }

    @include respond-min-width(95em) {
        @include column-count(3);
    }
}

//%section {
//    @include margin-leader(1);
//    @include margin-trailer(1);
//    margin-left:  7%;
//    margin-right: 7%;
//
//    @include respond-min(30em) {
//        margin-left:  10%;
//        margin-right: 10%;
//    }
//
//    @include respond-min(40em) {
//        margin-left:  12%;
//        margin-right: 12%;
//    }
//
//    @include respond-min(50em) {
//    }
//
//    @include respond-min(70em) {
//    }
//}
//
//%wide {
//    @include rhythm(2, 1, 1, 2);
//    background-position: center center;
//    background-repeat: no-repeat;
//    @include box-shadow(inset 0 0 4em transparentize(black, 0.95));
//
//    .backgroundsize & {
//        background-size: cover;
//    }
//
//    padding-left: 7%;
//    padding-right: 7%;
//
//    @include respond-min(30em) {
//        padding-left: 10%;
//        padding-right: 10%;
//    }
//
//    @include respond-min(40em) {
//        @include rhythm(3, 1, 1, 3);
//        padding-left:  12%;
//        padding-right: 12%;
//    }
//}
//
//%wide-dark {
//    background-color: $colour-def-darker-grey;
//    color: $colour-def-almost-white;
//}
//
//%wide-feature {
//    background-color: $colour-feature;
//    &, & .boss {
//        color: $colour-def-almost-white;
//    }
//}
//
//.wide {
//    @extend %wide;
//
//    &.gracht {
//        @extend %wide-dark;
//        background-image: url(../img/gracht-darker.jpg);
//        background-position: center 40%;
//    }
//
//    &.field {
//        @extend %wide-feature;
//        background-image: url(../img/field.png);
//        background-position: center 16%;
//    }
//}
//
//
//.section {
//    @extend %section;
//}
//
//#header {
//    //@include padding-leader(2);
//    //@include padding-trailer(2);
//    padding-left: 7%;
//    padding-right: 7%;
//    background-color: #fefefe;
//    border-bottom: 1px solid #f0f0f0;
//    @include clearfix;
//
//    @include respond-min(30em) {
//        padding-left: 10%;
//        padding-right: 10%;
//    }
//
//    @include respond-min(40em) {
//        //@include padding-leader(3);
//        //@include padding-trailer(3);
//        padding-left: 12%;
//        padding-right: 12%;
//    }
//
//    hgroup {
//        @include rhythm(0, 2.5, 2.5, 0, 24px);
//        @include adjust-font-size-to(24px);
//        text-transform: lowercase;
//        letter-spacing: 0.04em;
//        font-family: $font-family-serif;
//        line-height: 1;
//        float: left;
//
//        h1, h2 {
//            font-size: 1em;
//            display: inline;
//            font-weight: 400;
//            color: $colour-heading;
//        }
//
//        //h1 {
//        //    .given-name { font-weight: 400 }
//        //    .family-name { font-weight: 700; }
//        //}
//
//        h2 {
//            font-style: italic;
//
//            &:before {
//                content: '| ';
//                font-style: normal;
//                color: $colour-body;
//                color: $colour-feature;
//            }
//        }
//    }
//
//    nav {
//        float: right;
//
//        li {
//            display: inline-block;
//            padding-left: 1.4em;
//            padding-right: 1.4em;
//            margin: 0 0.4em;
//            text-transform: uppercase;
//            font-family: $font-family-sans-serif;
//            @include rhythm(0, 2.5, 2.5, 0, 12px);
//            @include adjust-font-size-to(12px);
//            letter-spacing: 0.08em;
//            font-weight: 700;
//
//            a:link {
//                color: $colour-body;
//            }
//
//            &:last-of-type {
//                //background-color: $colour-feature;
//
//                a:link {
//                }
//            }
//        }
//    }
//}
//
